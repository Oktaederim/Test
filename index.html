<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lüftungstechnischer Prozess-Simulator</title>
    <link rel="stylesheet" href="style.css">
    <script>
        window.MathJax = { tex: { inlineMath: [['$', '$']] } };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</head>
<body>

    <div class="container">
        <header>
            <h1>Lüftungstechnischer Prozess-Simulator ⚙️</h1>
            <p>Definieren Sie einen Luftzustand und wenden Sie schrittweise Prozesse an.</p>
        </header>

        <div id="notification-area" class="notification hidden"></div>

        <div class="card">
            <h2>Aktueller Luftzustand</h2>
            <div class="state-grid">
                <div class="input-group">
                    <label for="temperature">Temperatur (°C)</label>
                    <input type="number" id="temperature" value="20">
                </div>
                <div class="input-group">
                    <label for="humidity">Relative Feuchte (%)</label>
                    <input type="number" id="humidity" value="50">
                </div>
                <div class="input-group">
                    <label for="pressure">Luftdruck (hPa)</label>
                    <input type="number" id="pressure" value="1013.25">
                </div>
                <div class="input-group">
                    <label for="volume-flow">Volumenstrom (m³/h)</label>
                    <input type="number"id="volume-flow" value="1000">
                </div>
            </div>
            <div class="results-wrapper">
                <div class="result-item"><span class="label">Absolute Feuchte (x)</span><span class="value" id="current-x"></span></div>
                <div class="result-item"><span class="label">Enthalpie (h)</span><span class="value" id="current-h"></span></div>
                <div class="result-item"><span class="label">Taupunkt (t_d)</span><span class="value" id="current-td"></span></div>
                <div class="result-item"><span class="label">Dichte (ρ)</span><span class="value" id="current-rho"></span></div>
            </div>
        </div>

        <div class="card">
            <h2>Prozessschritt anwenden</h2>
            <div class="process-controls">
                <div class="input-group">
                    <label for="process-select">Prozess wählen</label>
                    <select id="process-select">
                        <option value="heat">Heizen</option>
                        <option value="cool">Kühlen</option>
                        <option value="steam_humidify">Dampfbefeuchtung</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="target-value" id="target-label">Ziel-Temperatur (°C)</label>
                    <input type="number" id="target-value" value="22">
                </div>
                <button id="apply-process-btn">Prozess Anwenden</button>
            </div>
        </div>

        <div id="result-card" class="card hidden">
            <h2>Ergebnis des Prozessschritts</h2>
            <div class="results-wrapper">
                <div class="result-item"><span class="label">Neue Temperatur</span><span class="value" id="result-t"></span></div>
                <div class="result-item"><span class="label">Neue rel. Feuchte</span><span class="value" id="result-rh"></span></div>
                <div class="result-item"><span class="label">Neue abs. Feuchte</span><span class="value" id="result-x"></span></div>
                <div class="result-item"><span class="label">Neue Enthalpie</span><span class="value" id="result-h"></span></div>
                <hr>
                <div class="result-item large">
                    <span class="label" id="power-label">Leistung</span>
                    <span class="value" id="power-value"></span>
                </div>
                 <div class="result-item">
                    <span class="label">Wasserbilanz</span>
                    <span class="value" id="water-diff"></span>
                </div>
            </div>
            <button id="use-as-start-btn">Als neuen Ausgangszustand übernehmen</button>
        </div>
        
    </div>

    <script src="script.js"></script>
</body>
</html>
